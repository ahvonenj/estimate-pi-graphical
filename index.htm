<!doctype html>
<html>
	<head>
		<title>Estimate PI</title>

		<link rel = "stylesheet" type = "text/css" href = "index.css">

		<script src = "lib/jquery-2.2.2.min.js"></script>
		<script src = "lib/pixi.min.js"></script>
		<script src = "lib/chance.min.js"></script>
		<script src = "lib/sim-0.26.js"></script>
		<script src = "lib/victor.min.js"></script>
		<script src = "lib/chart.js"></script>
		<script src = "lib/lerppu.js"></script>

		<script src = "estimator/global.js"></script>
		<script src = "estimator/circle.js"></script>
		<script src = "estimator/rectangle.js"></script>
		<script src = "estimator/point.js"></script>
		<script src = "estimator/pi-graphical-estimator.js"></script>
	</head>
	<body>
		<div id = "canvaswrapper">
			<canvas id = "canvas">
				
			</canvas>
		</div>
		<div id = "graphwrapper">
			<canvas id="pie-graph"></canvas>
		</div>
		<div id = "resultwrapper">
			<table id = "resulttable">
				<tr>
					<td>Total points:</td>
					<td id = "totalp">0</td>
				</tr>
				<tr>
					<td>Points in circle:</td>
					<td id = "circlep">0</td>
				</tr>
				<tr>
					<td>Estimated PI:</td>
					<td id = "estpi">-</td>
				</tr>
				<tr>
					<td>Math.PI:</td>
					<td id = "constpi">-</td>
				</tr>
				<tr>
					<td>Estimation error:</td>
					<td id = "dpi">-</td>
				</tr>
			</table>
		</div>
	</body>
	<script>
		var ctx = document.getElementById("pie-graph");

		var visdata = 
		{
	        labels: [],
	        datasets: 
	        [{
	            label: 'Error',
	            data: []
	        }]
    	}

		var vischart = new Chart(ctx, 
		{
		    type: 'line',
		    data: visdata
		});

		function UpdateVisdata(newdata)
		{
			vischart.data.labels = newdata.labels;
			vischart.data.datasets[0].data = newdata.datasets[0].data;
			vischart.update();
		}

		var pie = new PIE();
	</script>
</html>